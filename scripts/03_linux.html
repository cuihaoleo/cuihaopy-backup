﻿<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app18.us.archive.org';v.server_ms=285;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/static/js/wbhack.js?v=1522452177.0" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="/static/css/banner-styles.css?v=1522452177.0" />
<link rel="stylesheet" type="text/css" href="/static/css/iconochive.css?v=1522452177.0" />

<!-- End Wayback Rewrite JS Include -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8;"/>
<title> Linux - DoraDaemon </title>
<link rel="stylesheet" href="/web/20150625221947cs_/http://cuihaopy.appspot.com/themes/vector-flower/style.css" type="text/css" media="screen"/>
<link rel="alternate" type="application/rss+xml" title="DoraDaemon RSS Feed" href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/feed"/>
<link href="/static/wlwmanifest.xml" type="application/wlwmanifest+xml" rel="wlwmanifest"/>
<script type="text/javascript" src="/web/20150625221947js_/http://cuihaopy.appspot.com/static/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="https://web.archive.org/web/20150625221947js_/http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined')
{
    document.write(unescape("%3Cscript src='/static/js/jquery-1.3.2.min.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>

</head>
<body>
<!-- warpper start -->
<div id="wrapper">
<!-- header start -->
<div id="header">
	<h1><a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/" title="DoraDaemon">DoraDaemon</a></h1>
	<h2>cuihao's blog (powered by <a href="https://web.archive.org/web/20150625221947/http://micolog.xuming.net/">Micolog</a>)</h2>
	<div id="navigation">
	    <div>
	        <div>
		        <ul>
			        <li><a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/">Home</a></li>
			        
		        </ul>
	        </div>
	    </div>
	</div>
	<div id="rss"><a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/feed"><img src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/spacer.gif" width="55" height="36" alt="RSS" title="RSS"/></a></div>
</div>
<!-- header end -->

<!-- container start -->
<div id="container">
    
<!-- content start -->
<div id="content">
<h2 style=" margin:-20px 0px 20px 53px;">Categorie : Linux</h2>


<div class="post">
	<h2><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=97001" title="Permanent Link to Archlinux优化——part2">Archlinux优化——part2</a></h2>
	<div class="postmetadata">Posted in  <a href="/web/20150625221947/http://cuihaopy.appspot.com/category/linux">Linux</a> </div>
	<div class="post_date">01/20/11</div>
	<div class="entry"><h3><span style="color: #000080;">3. 开机速度优化</span></h3>
<p>&nbsp;&nbsp;&nbsp; 参考文献： <a href="https://web.archive.org/web/20150625221947/https://wiki.archlinux.org/index.php/Improve_Boot_Performance">https://wiki.archlinux.org/index.php/Improve_Boot_Performance</a></p>
<p>&nbsp;&nbsp;&nbsp; <strong>a. rc.conf：禁用不需要的开机服务，以及后台启动服务</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：Archlinux默认开机会加载一些服务，诸如cups、crond，可以根据需要关闭一些服务。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用编辑器打开<em>/etc/rc.conf</em>，找到如下部分：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em>DAEMONS=(服务1 服务2 &hellip;&hellip; 服务n)</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 服务名前加&ldquo;!&rdquo;禁止服务自动启动，加&ldquo;@&rdquo;开机时后台启动服务（下面只是例子）：<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <em>DAEMONS=(dbus hal gdm @syslog-ng @network !netfs @crond @alsa !cups)</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; TIPS：如果不用打印机，可以关闭cups；如果不用网络文件系统，可以关闭netfs。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; hal、dbus等关键服务建议放在最前面，且不要后台启动，然后是登陆管理器（gdm、kdm、slim），其他的都可以后台启动。</p>
<p><strong>&nbsp;&nbsp;&nbsp; b. inittab：乱序执行启动脚本</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：Linux开机时执行的脚本，默认是顺序一个个执行的，可以通过一起同步执行加速。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用编辑器打开<em>/etc/inittab</em>，找到如下部分：<br/> <em>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rc::sysinit:/etc/rc.sysinit<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rs:S1:wait:/etc/rc.single<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rm:2345:wait:/etc/rc.multi<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rh:06:wait:/etc/rc.shutdown<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; su:S:wait:/sbin/sulogin -p</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 将其中的wait全部改成once（rc.sysinit不要动）：<br/> <em>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rc::sysinit:/etc/rc.sysinit<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rs:S1:once:/etc/rc.single<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rm:2345:once:/etc/rc.multi<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rh:06:once:/etc/rc.shutdown<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; su:S:once:/sbin/sulogin -p</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 保存即可。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br/><strong> &nbsp;&nbsp;&nbsp; c. inittab：减少控制台数量，节省系统资源</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：Archlinux默认开6个tty控制台（Ctrl+Alt+F1~6），通常我们根本用不了这么多。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用编辑器打开<em>/etc/inittab</em>，找到如下部分：<br/> <em>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c1:2345:respawn:/sbin/agetty -8 38400 tty1 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c2:2345:respawn:/sbin/agetty -8 38400 tty2 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c3:2345:respawn:/sbin/agetty -8 38400 tty3 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c4:2345:respawn:/sbin/agetty -8 38400 tty4 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c5:2345:respawn:/sbin/agetty -8 38400 tty5 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c6:2345:respawn:/sbin/agetty -8 38400 tty6 linux</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 将不需要的控制台用&ldquo;#&rdquo;注释掉：<br/><em> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; #c6:2345:respawn:/sbin/agetty -8 38400 tty6 linux</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 保存即可。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 其他：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 还可以安装fgetty或者mingetty代替agetty，它们比较轻量，节省资源。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 以fgetty为例，安装后把inittab的上述行替换为：<br/> <em>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c1:2345:respawn:/sbin/fgetty tty1 linux<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c2:2345:respawn:/sbin/fgetty tty2 linux</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 等等，保存重启即可。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br/><strong> &nbsp;&nbsp;&nbsp; d. rc.sysinit：调整开机脚本</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：跳过模块依赖性检查等费时的操作。有一定风险，请备份文件。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用文本编辑器打开<em>/etc/rc.sysinit</em>，找到这一行（检查模块依赖）：<br/><em> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; status "Updating Module Dependencies" /sbin/depmod -A</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 注释掉：<br/><em> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; #status "Updating Module Dependencies" /sbin/depmod -A</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 另外，检查这一行：<br/><em> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; status "Updating Shared Library Links" /sbin/ldconfig</em><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 默认应该是注释掉的，如果没有，你也可以注释掉它。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 其他：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 如果你明白开机脚本的意思，也可以自己做一些调整。不过一定要给自己留后路，修改开机脚本可能导致无法开机！</p>
<p>&nbsp;</p></div>
	
	<p class="tags">Tags: <a href="/web/20150625221947/http://cuihaopy.appspot.com/tag/Archlinux">Archlinux</a>&nbsp;&nbsp;</p>
	
	<div class="endline"></div>
	<div class="bookmark">
	    <ul>
	        <li><a href="https://web.archive.org/web/20150625221947/http://digg.com/submit?phase=2&amp;url=?p=97001&amp;title=Archlinux优化——part2"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/digg.png" alt="Digg"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://del.icio.us/post?url=?p=97001&amp;title=Archlinux优化——part2"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/delicious.png" alt="Del.icio.us"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://www.stumbleupon.com/submit?url=?p=97001&amp;title=Archlinux优化——part2"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/stumbleupon.png" alt="StumbleUpon"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://reddit.com/submit?url=?p=97001&amp;title=Archlinux优化——part2"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/reddit.png" alt="Reddit"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://twitter.com/home?status=?p=97001"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/twitter.png" alt="Twitter"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/feed"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/rss.png" alt="RSS"/></a></li>
        </ul>
	</div>
	<div class="read_comments"><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=97001#comments">Read User's Comments(0)</a></div>
</div>

<div class="post">
	<h2><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=95001" title="Permanent Link to Archlinux优化——part1">Archlinux优化——part1</a></h2>
	<div class="postmetadata">Posted in  <a href="/web/20150625221947/http://cuihaopy.appspot.com/category/linux">Linux</a> </div>
	<div class="post_date">01/15/11</div>
	<div class="entry"><h3><span style="color: #000080;"><strong>1. 从Firefox做起</strong></span></h3>
<p>&nbsp;&nbsp;&nbsp; 作为绝大多数linuxer首选浏览器，Arch的提速从此说起。<br/> &nbsp;&nbsp;&nbsp; 参考文献： <a href="https://web.archive.org/web/20150625221947/https://wiki.archlinux.org/index.php/Firefox_Tips_and_Tweaks">https://wiki.archlinux.org/index.php/Firefox_Tips_and_Tweaks</a><br/> &nbsp;&nbsp;&nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>a. 利用tmpfs加快缓存</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：就是把缓存放在内存里。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 在浏览器地址栏输入&ldquo;<em>about:config</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 找到（或新建）string项目&ldquo;<em>browser.cache.disk.parent_directory</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 设置为&ldquo;<em>/dev/shm/ffcache</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 其他：内存紧张的就不要用了。关机或重启后缓存不会保留（因为存在内存里了）。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>b. 关闭pango</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：据说这玩意儿没啥用，还拖累速度。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用文本编辑器打开&ldquo;<em>~/.profile</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 添加一行&ldquo;<em>export MOZ_DISABLE_PANGO=1</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>c. 优化版的firefox</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：PGO优化版的firefox。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; AUR中，请自行编译（sorry，不提供新人指导）：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FF3: <a href="https://web.archive.org/web/20150625221947/http://aur.archlinux.org/packages.php?ID=22296">http://aur.archlinux.org/packages.php?ID=22296</a><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FF4: <a href="https://web.archive.org/web/20150625221947/http://aur.archlinux.org/packages.php?ID=22919">http://aur.archlinux.org/packages.php?ID=22919</a><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 其他：编译需要比较长时间。</p>
<p>&nbsp;</p>
<h3><span style="color: #000080;"><strong>2. pacman提速</strong></span></h3>
<p>&nbsp;&nbsp;&nbsp; 首先，pacman默认的下载工具是单线程的。还有众所周知，pacman在开机后第一两次使用时数据库检索速度特别慢。尽管有pacman-optimize这个工具，但每次开机运行一次实在麻烦。<br/> &nbsp;&nbsp;&nbsp; 参考文献： <a href="https://web.archive.org/web/20150625221947/https://wiki.archlinux.org/index.php/Improve_Pacman_Performance">https://wiki.archlinux.org/index.php/Improve_Pacman_Performance</a><br/> &nbsp;&nbsp;&nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>a. 选择合适的服务器</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：官方服务器带宽有限，下载巨慢。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用文本编辑器打开&ldquo;<em>/etc/pacman.d/mirrorlist</em>&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 用&ldquo;#&rdquo;注释掉官方源（&ldquo;<em>Server = ftp://mirrors.kernel.org/archlinux/$repo/os/$arch</em>&rdquo;）。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 在China下面选择一个合适的服务器，去掉前面的&ldquo;#&rdquo;。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 保存后执行&ldquo;<em>pacman -Sy</em>&rdquo;同步。<br/> &nbsp;&nbsp;&nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>b. 使用其他下载工具</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：用axel、aria2c、proz&hellip;&hellip;为下载提速。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 首先请确保你安装过这些下载工具。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 然后用文本编辑器打开&ldquo;/etc/pacman.conf&rdquo;，找到&ldquo;XferCommand&rdquo;打头的行，用&ldquo;#&rdquo;注释掉。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 根据实际添加下面的行（链接数等配置请自行修改）：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &mdash;&mdash;axel &ldquo;<em>XferCommand = /usr/bin/axel -o %o %u</em>&rdquo;<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &mdash;&mdash;aria2c &ldquo;<em>XferCommand = /usr/bin/aria2c -o %o %u</em>&rdquo;<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &mdash;&mdash;proz &rdquo;<em>XferCommand = /usr/bin/proz -r --no-curses --no-netrc %u %o</em>&ldquo;<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 保存后使用pacman测试效果。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 其他：community仓库提供了一个powerpill软件包，也可以达到提速目的，参阅：<a href="https://web.archive.org/web/20150625221947/https://wiki.archlinux.org/index.php/Powerpill">https://wiki.archlinux.org/index.php/Powerpill</a> 。<br/> &nbsp;<br/> &nbsp;&nbsp;&nbsp; <strong>c. 利用pacman-cage优化本地数据库</strong><br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 介绍：单独把pacman数据库放在一个虚拟磁盘文件中，大大加快访问。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 到aur下载并安装pactools： <a href="https://web.archive.org/web/20150625221947/http://aur.archlinux.org/packages.php?ID=5907">http://aur.archlinux.org/packages.php?ID=5907</a> 。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 以管理员身份运行&rdquo;<em>pt-pacman-cage 60</em>&ldquo;，会创建一个叫做/var/lib/pacman.db的loop文件系统，并备份数据库。<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 检查/etc/fstab文件，应该有（若无请添加）类似下面的内容：<br/> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em>/var/lib/pacman.db /var/lib/pacman ext2 loop,defaults,noatime,nodiratime 0 0</em></p>
<p>&nbsp;</p></div>
	
	<p class="tags">Tags: <a href="/web/20150625221947/http://cuihaopy.appspot.com/tag/Archlinux">Archlinux</a>&nbsp;&nbsp;<a href="/web/20150625221947/http://cuihaopy.appspot.com/tag/Firefox">Firefox</a>&nbsp;&nbsp;</p>
	
	<div class="endline"></div>
	<div class="bookmark">
	    <ul>
	        <li><a href="https://web.archive.org/web/20150625221947/http://digg.com/submit?phase=2&amp;url=?p=95001&amp;title=Archlinux优化——part1"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/digg.png" alt="Digg"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://del.icio.us/post?url=?p=95001&amp;title=Archlinux优化——part1"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/delicious.png" alt="Del.icio.us"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://www.stumbleupon.com/submit?url=?p=95001&amp;title=Archlinux优化——part1"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/stumbleupon.png" alt="StumbleUpon"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://reddit.com/submit?url=?p=95001&amp;title=Archlinux优化——part1"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/reddit.png" alt="Reddit"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://twitter.com/home?status=?p=95001"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/twitter.png" alt="Twitter"/></a></li>
	        <li><a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/feed"><img class="bookmark_icon" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/bookmark/rss.png" alt="RSS"/></a></li>
        </ul>
	</div>
	<div class="read_comments"><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=95001#comments">Read User's Comments(0)</a></div>
</div>

<div class="wp-pagenavi">
    
    
</div>

</div>
<!-- content end -->
﻿<!-- sidebar start -->
<div id="sidebar">
	<div id="sidebar_top">
		<ul>
		    <li>
			    <h3>Categories</h3>
			    <ul>
				    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/category/oldlivespace">旧Live空间文章(55)</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/category/linux">Linux(2)</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/category/programming">Programming(17)</a></li>
                    
			    </ul>
		    </li>
		    <li>
		        <h3>Links</h3>
			    <ul>
				    
                    <li><a href="https://web.archive.org/web/20150625221947/http://xuming.net/" target="_blank">Micolog开发者徐明的博客</a></li>
                    
                    <li><a href="https://web.archive.org/web/20150625221947/mailto:cuihao.leo@gmail.com" target="_blank">Mail我</a></li>
                    
                    <li><a href="https://web.archive.org/web/20150625221947/http://www.equn.com/" target="_blank">中国分布式计算总站</a></li>
                    
			    </ul>
		    </li>
		    <li>
			    <h3>Meta</h3>
			    <ul>
				    
				    
                        <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/admin">Login</a></li>
                    
				    <li><a href="https://web.archive.org/web/20150625221947/http://validator.w3.org/check/referer">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a></li>
				    <li><a href="https://web.archive.org/web/20150625221947/http://gmpg.org/xfn/"><abbr title="XHTML Friends Network">XFN</abbr></a></li>
				    
			    </ul>
		    </li>
		</ul>
		<div class="sidebar_paper_bottom"></div>
	</div>
	<div id="searchform">
		<form method="get" action="https://web.archive.org/web/20150625221947/http://www.google.com/search">
			<input type="text" class="searchtext" name="as_q" id="s"/>
			<input type="image" src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/spacer.gif" id="searchsubmit" alt="Search" value=""/>
		</form>
	</div>
	<div id="sidebar_bottom">
		<ul>
		    <li>
			    <h3><img src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/sidebar_posts.jpg" width="189" height="35" alt="Recent Posts"/></h3>
			    <ul>
				    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=117001">[NOIP2006] [动态规划] 金明的预算方案（提高组）</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=116001">牛顿法解方程</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=115001">死亡人数最多的十大自然灾害</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=114001">[最大流, Edmonds–Karp算法] shuttle 太空飞行计划</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=113001">[二分图匹配, 匈牙利算法] pilot 飞行员配对</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=111001">[NOI2003] [Splay(伸展树)] EDITOR2003 文本编辑器</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=110001">[二项堆, 并查集] Monkey King 猴子选大王</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/?p=109001">归并排序，也是很快的！</a></li>
                    
			    </ul>
		    </li>
		    <li>
			    <h3><img src="/web/20150625221947im_/http://cuihaopy.appspot.com/themes/vector-flower/images/sidebar_comments.jpg" width="189" height="35" alt="Recent Comments"/></h3>
			    <ul>
				    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/2009/08/29/man-BOINC-cient.html#comment-78001">Hao Li:百度上第一个搜到的就是你这篇，正需要，非...</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/2010/01/1/Nov-and-Dec.html#comment-12004">Carol Zhang:刘翔回福建了？为什么？什么时候？李真晓同...</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/2009/10/2/10.1-holiday.html#comment-52002">勃:ha....</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/2009/09/6/Because-A(H1N1),-we-free.html#comment-83001">勃:……………………………………………………...</a></li>
                    
                    <li><a href="/web/20150625221947/http://cuihaopy.appspot.com/2009/09/6/Because-A(H1N1),-we-free.html#comment-84001">Hao:Chiglish懂不懂 中国人咋当的。。...</a></li>
                    
			    </ul>
		    </li>
		</ul>
	</div>
	<div class="fix_bottom"></div>
</div>
<!-- sidebar end -->
<div class="endline"></div>

</div>
<!-- container end -->

<!-- footer start -->
<div id="footer">

	<div class="credit">
		Copyright &copy; 2011 <a href="https://web.archive.org/web/20150625221947/http://cuihaopy.appspot.com/">DoraDaemon</a>. All rights reserved.<br/>
		Presented by <a href="https://web.archive.org/web/20150625221947/http://www.luggageguides.com/">Luggage</a> <a href="https://web.archive.org/web/20150625221947/http://www.miamihotelsadvisor.com/">Miami Hotels</a>, Coded: EZwpthemes.<br/>
    		Powered by <a href="https://web.archive.org/web/20150625221947/http://code.google.com/appengine/">Google App Engine</a><br/>
		由 <a href="https://web.archive.org/web/20150625221947/http://xuming.net/">xuming</a> 提供 <a href="https://web.archive.org/web/20150625221947/http://code.google.com/p/micolog">Micolog</a>程序
	</div>

<script type="text/javascript">
if ($('pre[class^=brush:]').length > 0)
{
	$.getScript("/syntaxhighlighter/scripts/shCore.js", function() {
		SyntaxHighlighter.boot("/syntaxhighlighter/", {theme : "Default", stripBrs : true}, {});
	});
}
</script>
<!--Powered by micolog 0.74-->
</div>
<!-- footer end -->
<div class="endline"></div>
</div>
<!-- warpper end -->
</body>
</html>
<!--
     FILE ARCHIVED ON 22:19:47 Jun 25, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:49:44 Apr 06, 2018.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  LoadShardBlock: 65.878 (3)
  esindex: 0.008
  captures_list: 85.463
  CDXLines.iter: 11.352 (3)
  PetaboxLoader3.datanode: 70.649 (4)
  exclusion.robots: 0.2
  exclusion.robots.policy: 0.174
  RedisCDXSource: 4.663
  PetaboxLoader3.resolve: 155.962
  load_resource: 170.275
-->